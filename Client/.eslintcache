[{"/home/mrwez/todos/Client/src/index.js":"1","/home/mrwez/todos/Client/src/App.js":"2","/home/mrwez/todos/Client/src/containers/Login.js":"3","/home/mrwez/todos/Client/src/containers/Todo.js":"4","/home/mrwez/todos/Client/src/containers/NavBar.js":"5","/home/mrwez/todos/Client/src/containers/Register.js":"6","/home/mrwez/todos/Client/src/containers/Complete.js":"7"},{"size":322,"mtime":1647873052420,"results":"8","hashOfConfig":"9"},{"size":2627,"mtime":1647873052412,"results":"10","hashOfConfig":"9"},{"size":2196,"mtime":1647873052416,"results":"11","hashOfConfig":"9"},{"size":8538,"mtime":1648283396478,"results":"12","hashOfConfig":"9"},{"size":666,"mtime":1647873052416,"results":"13","hashOfConfig":"9"},{"size":2482,"mtime":1647873052416,"results":"14","hashOfConfig":"9"},{"size":1133,"mtime":1647873052416,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"15518ig",{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25"},{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/home/mrwez/todos/Client/src/index.js",[],["32","33"],"/home/mrwez/todos/Client/src/App.js",[],"/home/mrwez/todos/Client/src/containers/Login.js",[],"/home/mrwez/todos/Client/src/containers/Todo.js",["34"],"//This is the functional component definition \n//Its needed in order to use react hooks \nimport './App.css';\nimport React from 'react';\n\nimport { AuthContext } from '../App'\n\n\n\n\nconst initialState = {\n  userInput: \"\", toDoList: [], vis: [],\n  greentick: []\n}\n\nfunction inputValidator(arr) {\n  var Regex = /^[a-zA-Z0-9_]+$/g\n  var result = arr.some(e => Regex.test(e));\n  return result\n}\n\n\n\n\n\nfunction TimePicker(props) {\n  var curr = new Date();\n  //var t = curr.toISOString(); this doesnt account for BST/GMT +1!!\n  //I changed it to LocaleTimeString as below\n  var t = curr.toLocaleTimeString()\n  return (\n    <div className=\"timeSelect\"><label>Set Time:</label>\n      <input type=\"time\" id=\"appt\" name=\"appt\"\n         onChange={props.onChange} defaultValue={t.slice(0, 5)} required></input></div>)\n}\n\nfunction Calendar(props) {\n\n  var curr = new Date();\n  var dt = curr.toISOString().substr(0, 10);\n  var tt = curr.toLocaleTimeString().slice(0, 5);\n  let [timeline, setTime] = React.useState({ date: dt, time: tt, todo: props.item });\n\n  function handleTime(e) {\n    const newObj = { time: e.target.value }\n    console.log(newObj)\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n\n  function handleDate(e) {\n    const newObj = { date: e.target.value }\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n  return (<div className={props.style2 || props.style}>\n    <label >Enter deadline:</label>\n    <input type=\"date\" id=\"start\" onChange={(e) => handleDate(e)} defaultValue={dt} name=\"trip-start\"\n\n      min=\"2020-01-01\" max=\"2021-12-31\"></input><TimePicker onChange={(e) => handleTime(e)} /><button id=\"setReminder\" className={props.submitStyle} onClick={props.onClick} value={JSON.stringify(timeline)}>Set Reminder</button></div>)\n\n}\n\n\n\nfunction MyToDoComp(props) {\n  const [AppState, setParams] = React.useState({ userInput: \"\", toDoList: [], serverList: [], vis: [], greentick: [] });\n  const { dispatch } = React.useContext(AuthContext);\n\n\n  function updateCentralState() {\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: props.user })\n    }\n\n    fetch('/updateCentralState', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON => dispatch({ type: \"UPDATECENTRALSTATE\", payload: resJSON }))\n  }\n\n  /*React.useEffect(() => {\n    setInterval(() => {\n      updateCentralState();\n    }, 30000)\n  })*/\n\n\n  function clear() {\n    setParams(old => { return { ...old, ...initialState } })\n  }\n\n  function setTime(e) {\n    AppState.vis.splice(e, 1, !AppState.vis[e])\n    setParams(old => {\n      return { ...old, ...AppState.vis }\n    })\n\n  }\n\n  function handleSubmit() {\n\n    const itemsArray = AppState.userInput.split(',');\n    if (itemsArray[itemsArray.length - 1] === \"\") itemsArray.pop()\n    let visi = []\n    for (let i = 0; i < itemsArray.length; i++) {\n      visi.push(true);\n      AppState.greentick.push(false)\n    }\n    let newObj = { toDoList: itemsArray, vis: visi }\n    console.log(newObj)\n    setParams(old => {\n      return { ...old, ...newObj }\n\n    })\n\n  }\n  function handleChange(e) {\n    let newO = { userInput: e.target.value }\n    console.log(newO)\n    setParams(old => {\n      return { ...old, ...newO }\n    });\n    console.log(AppState)\n  }\n  function removeOverdue(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeOverdue', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n\n  function removeReminder(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeTodo', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function dueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/dueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n  function overdueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/overdueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function submitToServer(e, index) {\n    let obj = JSON.parse(e.target.value)\n    \n    AppState.greentick.splice(index, 1, !AppState.greentick[index])\n    setParams(old => {\n      console.log(old, obj)\n      console.log({ ...old, obj })\n\n      return { ...old, obj }\n    })\n\n\n\n    let newObj = { ...props.user };\n    newObj.log.push(obj)\n    console.log(newObj)\n\n\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj })\n    }\n\n\n    fetch('/addTodo', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON=>{\n        console.log(resJSON)\n        return resJSON\n      })\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n\n  }\n\n\n  //console.log(props.user)\n  const items = !inputValidator(AppState.toDoList) && AppState.toDoList.length === 0 ? <h1>Enter your tasks separated by commas</h1> : AppState.toDoList.map((d, index) => d === \"\" ? null : <div key={index}><li className=\"btn1\" key={index}>{d}<span onClick={() => setTime(index)} className={AppState.greentick[index] ? \"clock2\" : \"clock\"}>&#128337;</span><span className={AppState.greentick[index] ? \"greenTick1\" : \"greenTick2\"}>&#9989;</span></li><Calendar onClick={(e) => { submitToServer(e, index) }} item={d} style={AppState.vis[index] ? \"calendar1\" : \"calendar2\"} style2={AppState.greentick[index] ? \"calendar2\" : \"calendar1\"} submitStyle={AppState.greentick[index] ? \"submitted\" : \"notsubmitted\"} /></div>)\n  const items2 = props.user.overdue.map((d, i) => <li key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeOverdue(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => overdueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  const items3 = props.user.log.map((d, i) => <li key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeReminder(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => dueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  \n  return (\n\n    <div>\n      \n      <h1 id=\"box\">Hello {props.user.username} <br></br>Your \"To Do\" List:</h1>\n      \n      <div className=\"CssFlex\">\n      <div id=\"overdue\"><h2>Your overdue Tasks:</h2><ul>{items2}</ul></div>\n      <div id=\"readyToPlan\"><h2>You will be emailed the following reminders:</h2><ul>{items3}</ul></div>\n      </div>\n      <div id=\"textArea\">\n      <textarea\n        onChange={(e) => handleChange(e)}\n        value={AppState.userInput}\n\n        placeholder='Separate Tasks With Commas'\n      />\n      <br />\n      <button id=\"createList\" onClick={() => handleSubmit()}>Create List</button>\n      <button id=\"clearList\" onClick={() => clear()}>Clear List</button>\n      </div>\n      <div id=\"card\"><ul>{items}</ul></div>\n\n\n\n    </div>\n  );\n}\n\n\n\nexport default MyToDoComp;\n","/home/mrwez/todos/Client/src/containers/NavBar.js",[],"/home/mrwez/todos/Client/src/containers/Register.js",[],"/home/mrwez/todos/Client/src/containers/Complete.js",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","severity":1,"message":"40","line":73,"column":12,"nodeType":"41","messageId":"42","endLine":73,"endColumn":30},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"no-unused-vars","'updateCentralState' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]