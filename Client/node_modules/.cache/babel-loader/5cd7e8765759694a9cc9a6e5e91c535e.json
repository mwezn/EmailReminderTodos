{"ast":null,"code":"import _objectSpread from \"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/tank/Desktop/TODO/Client/src/containers/Todo.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n//This is the functional component definition \n//Its needed in order to use react hooks \nimport './App.css';\nimport React from 'react';\nimport { AuthContext } from '../App';\nvar initialState = {\n  userInput: \"\",\n  toDoList: [],\n  vis: [],\n  greentick: []\n};\n\nfunction inputValidator(arr) {\n  var Regex = /^[a-zA-Z0-9_]+$/g;\n  var result = arr.some(function (e) {\n    return Regex.test(e);\n  });\n  return result;\n}\n\nfunction TimePicker(props) {\n  var curr = new Date(); //var t = curr.toISOString(); this doesnt account for BST/GMT +1!!\n  //I changed it to LocaleTimeString as below\n\n  var t = curr.toLocaleTimeString();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"timeSelect\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Set Time:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 33\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"time\",\n      id: \"appt\",\n      name: \"appt\",\n      onChange: props.onChange,\n      defaultValue: t.slice(0, 5),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_c = TimePicker;\n\nfunction Calendar(props) {\n  _s();\n\n  var curr = new Date();\n  var dt = curr.toISOString().substr(0, 10);\n  var tt = curr.toLocaleTimeString().slice(0, 5);\n\n  var _React$useState = React.useState({\n    date: dt,\n    time: tt,\n    todo: props.item\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      timeline = _React$useState2[0],\n      setTime = _React$useState2[1];\n\n  function handleTime(e) {\n    var newObj = {\n      time: e.target.value\n    };\n    console.log(newObj);\n    setTime(function (oldObj) {\n      return _objectSpread(_objectSpread({}, oldObj), newObj);\n    });\n  }\n\n  function handleDate(e) {\n    var newObj = {\n      date: e.target.value\n    };\n    setTime(function (oldObj) {\n      return _objectSpread(_objectSpread({}, oldObj), newObj);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: props.style2 || props.style,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Enter deadline:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      id: \"start\",\n      onChange: function onChange(e) {\n        return handleDate(e);\n      },\n      defaultValue: dt,\n      name: \"trip-start\",\n      min: \"2020-01-01\",\n      max: \"2021-12-31\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(TimePicker, {\n      onChange: function onChange(e) {\n        return handleTime(e);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 49\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: props.submitStyle,\n      onClick: props.onClick,\n      value: JSON.stringify(timeline),\n      children: \"Set Reminder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 95\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Calendar, \"kcBmoXSFY04nQdTyDAM0Jg+ZzWc=\");\n\n_c2 = Calendar;\n\nfunction MyToDoComp(props) {\n  _s2();\n\n  var _this = this;\n\n  var _React$useState3 = React.useState({\n    userInput: \"\",\n    toDoList: [],\n    serverList: [],\n    vis: [],\n    greentick: []\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      AppState = _React$useState4[0],\n      setParams = _React$useState4[1];\n\n  var _React$useContext = React.useContext(AuthContext),\n      dispatch = _React$useContext.dispatch;\n\n  function updateCentralState() {\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: props.user\n      })\n    };\n    fetch('/updateCentralState', requestOptions).then(function (res) {\n      return res.json();\n    }).then(function (resJSON) {\n      return dispatch({\n        type: \"UPDATECENTRALSTATE\",\n        payload: resJSON\n      });\n    });\n  }\n\n  React.useEffect(function () {\n    setInterval(function () {\n      updateCentralState();\n    }, 30000);\n  });\n\n  function clear() {\n    setParams(function (old) {\n      return _objectSpread(_objectSpread({}, old), initialState);\n    });\n  }\n\n  function setTime(e) {\n    AppState.vis.splice(e, 1, !AppState.vis[e]);\n    setParams(function (old) {\n      return _objectSpread(_objectSpread({}, old), AppState.vis);\n    });\n  }\n\n  function handleSubmit() {\n    var itemsArray = AppState.userInput.split(',');\n    if (itemsArray[itemsArray.length - 1] === \"\") itemsArray.pop();\n    var visi = [];\n\n    for (var i = 0; i < itemsArray.length; i++) {\n      visi.push(true);\n      AppState.greentick.push(false);\n    }\n\n    var newObj = {\n      toDoList: itemsArray,\n      vis: visi\n    };\n    setParams(function (old) {\n      return _objectSpread(_objectSpread({}, old), newObj);\n    });\n  }\n\n  function handleChange(e) {\n    var newO = {\n      userInput: e.target.value\n    };\n    console.log(newO);\n    setParams(function (old) {\n      return _objectSpread(_objectSpread({}, old), newO);\n    });\n    console.log(AppState);\n  }\n\n  function removeOverdue(i) {\n    console.log(AppState);\n\n    var newObj = _objectSpread({}, props.user);\n\n    var item = newObj.overdue.splice(i, 1);\n    console.log(item);\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: newObj,\n        Item: item\n      })\n    };\n    fetch('/removeOverdue', requestOptions).then(function (res) {\n      return res.json();\n    }).then(function (resJSON) {\n      return dispatch({\n        type: \"SETREMINDER\",\n        payload: resJSON\n      });\n    });\n  }\n\n  function removeReminder(i) {\n    console.log(AppState);\n\n    var newObj = _objectSpread({}, props.user);\n\n    var item = newObj.log.splice(i, 1);\n    console.log(item);\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: newObj,\n        Item: item\n      })\n    };\n    fetch('/removeTodo', requestOptions).then(function (res) {\n      return res.json();\n    }) //.then(resJSON=>console.log(resJSON))\n    .then(function (resJSON) {\n      return dispatch({\n        type: \"SETREMINDER\",\n        payload: resJSON\n      });\n    });\n  }\n\n  function dueDone(i) {\n    console.log(AppState);\n\n    var newObj = _objectSpread({}, props.user);\n\n    var item = newObj.log.splice(i, 1);\n    console.log(item);\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: newObj,\n        Item: item\n      })\n    };\n    fetch('/dueDone', requestOptions).then(function (res) {\n      return res.json();\n    }) //.then(resJSON=>console.log(resJSON))\n    .then(function (resJSON) {\n      return dispatch({\n        type: \"SETREMINDER\",\n        payload: resJSON\n      });\n    });\n  }\n\n  function overdueDone(i) {\n    console.log(AppState);\n\n    var newObj = _objectSpread({}, props.user);\n\n    var item = newObj.overdue.splice(i, 1);\n    console.log(item);\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: newObj,\n        Item: item\n      })\n    };\n    fetch('/overdueDone', requestOptions).then(function (res) {\n      return res.json();\n    }) //.then(resJSON=>console.log(resJSON))\n    .then(function (resJSON) {\n      return dispatch({\n        type: \"SETREMINDER\",\n        payload: resJSON\n      });\n    });\n  }\n\n  function submitToServer(e, index) {\n    var obj = JSON.parse(e.target.value);\n    console.log(e, index);\n    AppState.greentick.splice(index, 1, !AppState.greentick[index]);\n    setParams(function (old) {\n      console.log(old, obj);\n      console.log(_objectSpread(_objectSpread({}, old), {}, {\n        obj: obj\n      }));\n      return _objectSpread(_objectSpread({}, old), {}, {\n        obj: obj\n      });\n    });\n\n    var newObj = _objectSpread({}, props.user);\n\n    newObj.log.push(obj);\n    var requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        data: newObj\n      })\n    };\n    fetch('/addTodo', requestOptions).then(function (res) {\n      return res.json();\n    }) //.then(resJSON=>console.log(resJSON))\n    .then(function (resJSON) {\n      return dispatch({\n        type: \"SETREMINDER\",\n        payload: resJSON\n      });\n    });\n  }\n\n  console.log(props.user);\n  var items = !inputValidator(AppState.toDoList) && AppState.toDoList.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Enter some valid tasks separated by commas\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 88\n  }, this) : AppState.toDoList.map(function (d, index) {\n    return d === \"\" ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"btn1\",\n        children: [d, /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: function onClick() {\n            return setTime(index);\n          },\n          className: AppState.greentick[index] ? \"clock2\" : \"clock\",\n          children: \"\\uD83D\\uDD51\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 249\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: AppState.greentick[index] ? \"greenTick1\" : \"greenTick2\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 361\n        }, _this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 213\n      }, _this), /*#__PURE__*/_jsxDEV(Calendar, {\n        onClick: function onClick(e) {\n          submitToServer(e, index);\n        },\n        item: d,\n        style: AppState.vis[index] ? \"calendar1\" : \"calendar2\",\n        style2: AppState.greentick[index] ? \"calendar2\" : \"calendar1\",\n        submitStyle: AppState.greentick[index] ? \"submitted\" : \"notsubmitted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 454\n      }, _this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 196\n    }, _this);\n  });\n  var items2 = props.user.overdue.map(function (d, i) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\"Task:\".concat(d.todo, \", date: \").concat(d.date, \", time:\").concat(d.time), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        onClick: function onClick() {\n          return removeOverdue(i);\n        },\n        children: [\"X\", /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"tooltiptext\",\n          children: \"Delete Reminder?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 173\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 114\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"done\",\n        onClick: function onClick() {\n          return overdueDone(i);\n        },\n        children: [\"\\u2705\", /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"tooltiptext\",\n          children: \"Complete?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 291\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 229\n      }, _this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 51\n    }, _this);\n  });\n  var items3 = props.user.log.map(function (d, i) {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\"Task:\".concat(d.todo, \", date: \").concat(d.date, \", time:\").concat(d.time), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close\",\n        onClick: function onClick() {\n          return removeReminder(i);\n        },\n        children: [\"X\", /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"tooltiptext\",\n          children: \"Delete Reminder?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 170\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 110\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"done\",\n        onClick: function onClick() {\n          return dueDone(i);\n        },\n        children: [\"\\u2705\", /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"tooltiptext\",\n          children: \"Complete?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 284\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 226\n      }, _this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 47\n    }, _this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"box\",\n      children: [\"Hello \", props.user.username, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 48\n      }, this), \"Your \\\"To Do\\\" List:\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CssFlex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"overdue\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your overdue Tasks:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: items2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"readyToPlan\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"You will be emailed the following reminders:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: items3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 82\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"textArea\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        onChange: function onChange(e) {\n          return handleChange(e);\n        },\n        value: AppState.userInput,\n        placeholder: \"Separate Tasks With Commas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"createList\",\n        onClick: function onClick() {\n          return handleSubmit();\n        },\n        children: \"Create List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"clearList\",\n        onClick: function onClick() {\n          return clear();\n        },\n        children: \"Clear List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(MyToDoComp, \"s+hgsM4k6XySSOUhJIlYJ2tueWQ=\");\n\n_c3 = MyToDoComp;\nexport default MyToDoComp;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"TimePicker\");\n$RefreshReg$(_c2, \"Calendar\");\n$RefreshReg$(_c3, \"MyToDoComp\");","map":{"version":3,"sources":["/home/tank/Desktop/TODO/Client/src/containers/Todo.js"],"names":["React","AuthContext","initialState","userInput","toDoList","vis","greentick","inputValidator","arr","Regex","result","some","e","test","TimePicker","props","curr","Date","t","toLocaleTimeString","onChange","slice","Calendar","dt","toISOString","substr","tt","useState","date","time","todo","item","timeline","setTime","handleTime","newObj","target","value","console","log","oldObj","handleDate","style2","style","submitStyle","onClick","JSON","stringify","MyToDoComp","serverList","AppState","setParams","useContext","dispatch","updateCentralState","requestOptions","method","headers","body","data","user","fetch","then","res","json","resJSON","type","payload","useEffect","setInterval","clear","old","splice","handleSubmit","itemsArray","split","length","pop","visi","i","push","handleChange","newO","removeOverdue","overdue","Item","removeReminder","dueDone","overdueDone","submitToServer","index","obj","parse","items","map","d","items2","items3","username"],"mappings":"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","sourcesContent":["//This is the functional component definition \n//Its needed in order to use react hooks \nimport './App.css';\nimport React from 'react';\n\nimport { AuthContext } from '../App'\n\n\n\n\nconst initialState = {\n  userInput: \"\", toDoList: [], vis: [],\n  greentick: []\n}\n\nfunction inputValidator(arr) {\n  var Regex = /^[a-zA-Z0-9_]+$/g\n  var result = arr.some(e => Regex.test(e));\n  return result\n}\n\n\n\n\n\nfunction TimePicker(props) {\n  var curr = new Date();\n  //var t = curr.toISOString(); this doesnt account for BST/GMT +1!!\n  //I changed it to LocaleTimeString as below\n  var t = curr.toLocaleTimeString()\n  return (\n    <div className=\"timeSelect\"><label>Set Time:</label>\n      <input type=\"time\" id=\"appt\" name=\"appt\"\n         onChange={props.onChange} defaultValue={t.slice(0, 5)} required></input></div>)\n}\n\nfunction Calendar(props) {\n\n  var curr = new Date();\n  var dt = curr.toISOString().substr(0, 10);\n  var tt = curr.toLocaleTimeString().slice(0, 5);\n  let [timeline, setTime] = React.useState({ date: dt, time: tt, todo: props.item });\n\n  function handleTime(e) {\n    const newObj = { time: e.target.value }\n    console.log(newObj)\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n\n  function handleDate(e) {\n    const newObj = { date: e.target.value }\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n  return (<div className={props.style2 || props.style}>\n    <label >Enter deadline:</label>\n    <input type=\"date\" id=\"start\" onChange={(e) => handleDate(e)} defaultValue={dt} name=\"trip-start\"\n\n      min=\"2020-01-01\" max=\"2021-12-31\"></input><TimePicker onChange={(e) => handleTime(e)} /><button className={props.submitStyle} onClick={props.onClick} value={JSON.stringify(timeline)}>Set Reminder</button></div>)\n\n}\n\n\n\nfunction MyToDoComp(props) {\n  const [AppState, setParams] = React.useState({ userInput: \"\", toDoList: [], serverList: [], vis: [], greentick: [] });\n  const { dispatch } = React.useContext(AuthContext);\n\n\n  function updateCentralState() {\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: props.user })\n    }\n\n    fetch('/updateCentralState', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON => dispatch({ type: \"UPDATECENTRALSTATE\", payload: resJSON }))\n  }\n\n  React.useEffect(() => {\n    setInterval(() => {\n      updateCentralState();\n    }, 30000)\n  })\n\n\n  function clear() {\n    setParams(old => { return { ...old, ...initialState } })\n  }\n\n  function setTime(e) {\n    AppState.vis.splice(e, 1, !AppState.vis[e])\n    setParams(old => {\n      return { ...old, ...AppState.vis }\n    })\n\n  }\n\n  function handleSubmit() {\n\n    const itemsArray = AppState.userInput.split(',');\n    if (itemsArray[itemsArray.length - 1] === \"\") itemsArray.pop()\n    let visi = []\n    for (let i = 0; i < itemsArray.length; i++) {\n      visi.push(true);\n      AppState.greentick.push(false)\n    }\n    let newObj = { toDoList: itemsArray, vis: visi }\n    setParams(old => {\n      return { ...old, ...newObj }\n\n    })\n\n  }\n  function handleChange(e) {\n    let newO = { userInput: e.target.value }\n    console.log(newO)\n    setParams(old => {\n      return { ...old, ...newO }\n    });\n    console.log(AppState)\n  }\n  function removeOverdue(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeOverdue', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n\n  function removeReminder(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeTodo', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function dueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/dueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n  function overdueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/overdueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function submitToServer(e, index) {\n    let obj = JSON.parse(e.target.value)\n    console.log(e, index)\n    AppState.greentick.splice(index, 1, !AppState.greentick[index])\n    setParams(old => {\n      console.log(old, obj)\n      console.log({ ...old, obj })\n\n      return { ...old, obj }\n    })\n\n\n\n    let newObj = { ...props.user };\n    newObj.log.push(obj)\n\n\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj })\n    }\n\n    fetch('/addTodo', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n\n  }\n\n\n  console.log(props.user)\n  const items = !inputValidator(AppState.toDoList) && AppState.toDoList.length === 0 ? <h1>Enter some valid tasks separated by commas</h1> : AppState.toDoList.map((d, index) => d === \"\" ? null : <div key={index}><li className=\"btn1\" key={index}>{d}<span onClick={() => setTime(index)} className={AppState.greentick[index] ? \"clock2\" : \"clock\"}>&#128337;</span><span className={AppState.greentick[index] ? \"greenTick1\" : \"greenTick2\"}>&#9989;</span></li><Calendar onClick={(e) => { submitToServer(e, index) }} item={d} style={AppState.vis[index] ? \"calendar1\" : \"calendar2\"} style2={AppState.greentick[index] ? \"calendar2\" : \"calendar1\"} submitStyle={AppState.greentick[index] ? \"submitted\" : \"notsubmitted\"} /></div>)\n  const items2 = props.user.overdue.map((d, i) => <li key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeOverdue(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => overdueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  const items3 = props.user.log.map((d, i) => <li key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeReminder(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => dueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  \n  return (\n\n    <div>\n      <h1 id=\"box\">Hello {props.user.username} <br></br>Your \"To Do\" List:</h1>\n      <div className=\"CssFlex\">\n      <div id=\"overdue\"><h2>Your overdue Tasks:</h2><ul>{items2}</ul></div>\n      <div id=\"readyToPlan\"><h2>You will be emailed the following reminders:</h2><ul>{items3}</ul></div>\n      </div>\n      <div id=\"textArea\">\n      <textarea\n        onChange={(e) => handleChange(e)}\n        value={AppState.userInput}\n\n        placeholder='Separate Tasks With Commas'\n      />\n      <br />\n      <button id=\"createList\" onClick={() => handleSubmit()}>Create List</button>\n      <button id=\"clearList\" onClick={() => clear()}>Clear List</button>\n      </div>\n      <div id=\"card\"><ul>{items}</ul></div>\n\n\n\n    </div>\n  );\n}\n\n\n\nexport default MyToDoComp;"]},"metadata":{},"sourceType":"module"}