{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _slicedToArray from\"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import Login from'./containers/Login';import MyToDoComp from'./containers/Todo';import Navigate from'./containers/NavBar';import Register from'./containers/Register';import Complete from'./containers/Complete';var AuthContext=/*#__PURE__*/React.createContext();var userName=JSON.parse(localStorage.getItem('user'))?JSON.parse(localStorage.getItem('user')):null;console.log(\"YOUR DISPtcth is\"+userName);var initialState={isAuthenticated:false,user:userName,token:localStorage.getItem('token')};var reducer=function reducer(state,action){switch(action.type){case\"LOGIN\":localStorage.setItem(\"user\",JSON.stringify(action.payload.user));localStorage.setItem(\"token\",JSON.stringify(action.payload.token));return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,user:action.payload.user,token:action.payload.token});case\"LOGOUT\":localStorage.clear();return _objectSpread(_objectSpread({},state),{},{isAuthenticated:false,user:null});case\"SETREMINDER\":localStorage.removeItem(\"user\");localStorage.setItem(\"user\",JSON.stringify(action.payload));return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,user:action.payload});case\"UPDATECENTRALSTATE\":localStorage.removeItem(\"user\");localStorage.setItem(\"user\",JSON.stringify(action.payload));return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,user:action.payload});default:return state;}};function MyRoutes(props){if(window.location.pathname===\"/\"){return props.authed?/*#__PURE__*/_jsx(MyToDoComp,{user:props.user}):/*#__PURE__*/_jsx(Login,{});}else if(window.location.pathname===\"/completed\"){return props.authed?/*#__PURE__*/_jsx(Complete,{user:props.user}):/*#__PURE__*/_jsx(Login,{});}else if(window.location.pathname===\"/register\"){return/*#__PURE__*/_jsx(Register,{});}else if(window.location.pathname===\"/login\"){return/*#__PURE__*/_jsx(Login,{});}else if(window.location.pathname===\"/logout\"){return/*#__PURE__*/_jsx(\"h1\",{children:\"You've Logged Out\"});}else{return/*#__PURE__*/_jsx(\"h1\",{children:\"404 Not Found!\"});}}function App(){var _React$useReducer=React.useReducer(reducer,initialState),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];return/*#__PURE__*/_jsxs(AuthContext.Provider,{value:{state:state,dispatch:dispatch},children:[\" \",/*#__PURE__*/_jsx(Navigate,{authed:state.token}),/*#__PURE__*/_jsx(MyRoutes,{authed:state.token,user:state.user})]});}export{App};export{AuthContext};//I replaced the following with <MyRoutes />\n//<div className=\"App\">{!state.isAuthenticated ? <Login /> : <MyToDoList />}</div>","map":{"version":3,"sources":["/home/tank/Desktop/TODO/Client/src/App.js"],"names":["React","Login","MyToDoComp","Navigate","Register","Complete","AuthContext","createContext","userName","JSON","parse","localStorage","getItem","console","log","initialState","isAuthenticated","user","token","reducer","state","action","type","setItem","stringify","payload","clear","removeItem","MyRoutes","props","window","location","pathname","authed","App","useReducer","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Login from './containers/Login'\nimport MyToDoComp from './containers/Todo'\nimport Navigate from './containers/NavBar'\nimport Register from './containers/Register'\nimport Complete from './containers/Complete'\n\n\n\nconst AuthContext = React.createContext();\n\n\nlet userName=JSON.parse(localStorage.getItem('user'))?JSON.parse(localStorage.getItem('user')):null;\nconsole.log(\"YOUR DISPtcth is\"+ userName)\nconst initialState = {\n  isAuthenticated: false,\n  user: userName,\n  token: localStorage.getItem('token'),\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case \"LOGOUT\":\n      localStorage.clear();\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      };\n    case \"SETREMINDER\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n    case \"UPDATECENTRALSTATE\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n      \n\n    default:\n      return state;\n  }\n};\n\nfunction MyRoutes(props){\n    if (window.location.pathname === \"/\") {\n      return props.authed?<MyToDoComp user={props.user} />:<Login />\n    }\n    else if (window.location.pathname ===\"/completed\"){\n      return props.authed?<Complete user={props.user} />:<Login />\n    }\n    else if (window.location.pathname === \"/register\"){\n      return <Register />\n    }\n    else if(window.location.pathname ===\"/login\"){\n      return <Login />\n    }\n    else if(window.location.pathname===\"/logout\"){\n      return <h1>You've Logged Out</h1>\n    }\n    else{\n      return <h1>404 Not Found!</h1>\n    }\n    \n\n}\n\nfunction App(){\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return(\n    <AuthContext.Provider\n    value={{\n      state,\n      dispatch\n    }}\n  > <Navigate authed={state.token}/>\n    <MyRoutes authed={state.token} user={state.user}/>\n  </AuthContext.Provider>\n)\n}\nexport {App}\nexport {AuthContext}\n\n//I replaced the following with <MyRoutes />\n//<div className=\"App\">{!state.isAuthenticated ? <Login /> : <MyToDoList />}</div>"]},"metadata":{},"sourceType":"module"}