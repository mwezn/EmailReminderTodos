{"ast":null,"code":"import _slicedToArray from \"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _objectSpread from \"/home/tank/Desktop/TODO/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"/home/tank/Desktop/TODO/Client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Login from './containers/Login';\nimport MyToDoComp from './containers/Todo';\nimport Navigate from './containers/NavBar';\nimport Register from './containers/Register';\nimport Complete from './containers/Complete';\nvar AuthContext = /*#__PURE__*/React.createContext();\nvar userName = JSON.parse(localStorage.getItem('user')) ? JSON.parse(localStorage.getItem('user')) : null;\nconsole.log(\"YOUR DISPtcth is\" + userName);\nvar initialState = {\n  isAuthenticated: false,\n  user: userName,\n  token: localStorage.getItem('token')\n};\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      });\n\n    case \"LOGOUT\":\n      localStorage.clear();\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isAuthenticated: false,\n        user: null\n      });\n\n    case \"SETREMINDER\":\n      localStorage.removeItem(\"user\");\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isAuthenticated: true,\n        user: action.payload\n      });\n\n    case \"UPDATECENTRALSTATE\":\n      localStorage.removeItem(\"user\");\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isAuthenticated: true,\n        user: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction MyRoutes(props) {\n  if (window.location.pathname === \"/\") {\n    return props.authed ? /*#__PURE__*/_jsxDEV(MyToDoComp, {\n      user: props.user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 60\n    }, this);\n  } else if (window.location.pathname === \"/completed\") {\n    return props.authed ? /*#__PURE__*/_jsxDEV(Complete, {\n      user: props.user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 58\n    }, this);\n  } else if (window.location.pathname === \"/register\") {\n    return /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 14\n    }, this);\n  } else if (window.location.pathname === \"/login\") {\n    return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 14\n    }, this);\n  } else if (window.location.pathname === \"/logout\") {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You've Logged Out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 14\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"404 Not Found!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 14\n    }, this);\n  }\n}\n\n_c = MyRoutes;\n\nfunction App() {\n  _s();\n\n  var _React$useReducer = React.useReducer(reducer, initialState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      state = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      state: state,\n      dispatch: dispatch\n    },\n    children: [\" \", /*#__PURE__*/_jsxDEV(Navigate, {\n      authed: state.token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(MyRoutes, {\n      authed: state.token,\n      user: state.user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c2 = App;\nexport { App };\nexport { AuthContext }; //I replaced the following with <MyRoutes />\n//<div className=\"App\">{!state.isAuthenticated ? <Login /> : <MyToDoList />}</div>\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MyRoutes\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["/home/tank/Desktop/TODO/Client/src/App.js"],"names":["React","Login","MyToDoComp","Navigate","Register","Complete","AuthContext","createContext","userName","JSON","parse","localStorage","getItem","console","log","initialState","isAuthenticated","user","token","reducer","state","action","type","setItem","stringify","payload","clear","removeItem","MyRoutes","props","window","location","pathname","authed","App","useReducer","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Login from './containers/Login'\nimport MyToDoComp from './containers/Todo'\nimport Navigate from './containers/NavBar'\nimport Register from './containers/Register'\nimport Complete from './containers/Complete'\n\n\n\nconst AuthContext = React.createContext();\n\n\nlet userName=JSON.parse(localStorage.getItem('user'))?JSON.parse(localStorage.getItem('user')):null;\nconsole.log(\"YOUR DISPtcth is\"+ userName)\nconst initialState = {\n  isAuthenticated: false,\n  user: userName,\n  token: localStorage.getItem('token'),\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case \"LOGOUT\":\n      localStorage.clear();\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      };\n    case \"SETREMINDER\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n    case \"UPDATECENTRALSTATE\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n      \n\n    default:\n      return state;\n  }\n};\n\nfunction MyRoutes(props){\n    if (window.location.pathname === \"/\") {\n      return props.authed?<MyToDoComp user={props.user} />:<Login />\n    }\n    else if (window.location.pathname ===\"/completed\"){\n      return props.authed?<Complete user={props.user} />:<Login />\n    }\n    else if (window.location.pathname === \"/register\"){\n      return <Register />\n    }\n    else if(window.location.pathname ===\"/login\"){\n      return <Login />\n    }\n    else if(window.location.pathname===\"/logout\"){\n      return <h1>You've Logged Out</h1>\n    }\n    else{\n      return <h1>404 Not Found!</h1>\n    }\n    \n\n}\n\nfunction App(){\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return(\n    <AuthContext.Provider\n    value={{\n      state,\n      dispatch\n    }}\n  > <Navigate authed={state.token}/>\n    <MyRoutes authed={state.token} user={state.user}/>\n  </AuthContext.Provider>\n)\n}\nexport {App}\nexport {AuthContext}\n\n//I replaced the following with <MyRoutes />\n//<div className=\"App\">{!state.isAuthenticated ? <Login /> : <MyToDoList />}</div>"]},"metadata":{},"sourceType":"module"}