{"version":3,"sources":["containers/Login.js","containers/Todo.js","containers/NavBar.js","containers/Register.js","containers/Complete.js","containers/Admin.js","containers/Logout.js","App.js","index.js"],"names":["Login","useState","email","password","emailExist","passCorrect","error","loginCredentials","setParams","dispatch","useContext","AuthContext","event","a","preventDefault","requestOptions","method","headers","body","JSON","stringify","title","data","fetch","then","res","status","newObj","oldObj","json","resJSON","console","log","type","payload","className","id","onSubmit","e","handleSubmit","for","name","placeholder","onChange","target","value","enterEmail","required","enterPassword","href","initialState","userInput","toDoList","vis","greentick","TimePicker","props","t","Date","toLocaleTimeString","defaultValue","slice","Calendar","curr","dt","toISOString","substr","tt","React","date","time","todo","item","timeline","setTime","style2","style","handleDate","min","max","handleTime","submitStyle","onClick","MyToDoComp","serverList","AppState","items","arr","Regex","some","test","inputValidator","length","map","d","index","splice","old","obj","parse","user","push","submitToServer","items2","overdue","i","Item","removeOverdue","class","overdueDone","items3","removeReminder","dueDone","username","ta","document","getElementById","classList","toggle","addItems","newO","handleChange","itemsArray","split","pop","visi","Navigate","conf","window","confirm","localStorage","getItem","options","clear","location","warn","authed","removeAccount","Register","emailAuth","serverResponse","RegCredentials","text","enterUser","Complete","done","removeDone","AdminPage","state","setState","this","listUsers","Component","Logout","createContext","userName","isAuthenticated","token","reducer","action","setItem","removeItem","MyRoutes","pathname","Admin","App","useReducer","Provider","ReactDOM","render"],"mappings":"qRAKe,SAASA,IAEtB,MAAsCC,mBAAS,CAACC,MAAO,GAAIC,SAAU,GAAIC,WAAW,KAAMC,YAAa,KAAKC,MAAM,OAAlH,mBAAOC,EAAP,KAAyBC,EAAzB,KACSC,EAAaC,qBAAWC,GAAxBF,SAHqB,4CAU9B,WAA4BG,GAA5B,eAAAC,EAAA,sDACED,EAAME,iBACAC,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,MAAO,6BAA6BC,KAAMf,KAGrEgB,MAAM,SAASR,GACXS,MAAK,SAAAC,GACJ,GAAiB,MAAbA,EAAIC,OAAc,CACrB,IAAMC,EAAO,CAACtB,aAAa,GAC3BG,GAAU,SAAAoB,GAAU,OAAO,2BAAIA,GAAWD,WAEvC,GAAgB,MAAbF,EAAIC,OAAa,CACvB,IAAMC,EAAO,CAACvB,YAAY,GAC1BI,GAAU,SAAAoB,GAAS,OAAO,2BAAIA,GAAWD,MAE3C,OAAOF,EAAII,UAEZL,MAAK,SAAAM,GACJC,QAAQC,IAAIF,GACZrB,EAAS,CAACwB,KAAM,QAASC,QAASJ,OAvBtC,4CAV8B,sBA0D9B,OACE,qBAAKK,UAAU,QAAf,SACA,sBAAKA,UAAU,YAAf,UACA,uBAAMC,GAAG,iBAAiBD,UAAU,eAAeE,SAAU,SAACC,GAAD,OA7DjC,2CA6DsCC,CAAaD,IAAItB,OAAO,OAA1F,UACI,uBAAOwB,IAAI,QAAX,oBAAiC,uBACjC,uBAAOP,KAAK,QAAQQ,KAAK,QAAQC,YAAY,cAAcC,SAAU,SAACL,GAAD,OAtB3E,SAAoBA,GAClB,IAAMX,EAAO,CAACzB,MAAMoC,EAAEM,OAAOC,OAC7BrC,GAAU,SAAAoB,GACN,OAAO,2BAAIA,GAAUD,MAmBqDmB,CAAWR,IAAIS,UAAQ,IAAS,uBAC1G,uBAAOP,IAAI,OAAX,uBAAmC,uBACnC,uBAAOP,KAAK,WAAWQ,KAAK,OAAOC,YAAY,iBAAiBC,SAAU,SAACL,GAAD,OAjBhF,SAAuBA,GACrB,IAAMX,EAAO,CAACxB,SAASmC,EAAEM,OAAOC,OAChCrC,GAAU,SAAAoB,GACN,OAAO,2BAAIA,GAAUD,MAc0DqB,CAAcV,IAAIS,UAAQ,IAAS,uBAClH,wBAAQZ,UAAU,kBAAlB,sBAEJ,8BAAK,mBAAGC,GAAG,QAAQa,KAAK,YAAnB,uCACL,8BAAK,8BAAmC,IAA9B1C,EAAiBH,WAAmB,mBAAG+B,UAAU,aAAb,kCAAiF,IAA/B5B,EAAiBF,YAAoB,mBAAG8B,UAAU,aAAb,6BAAsE,IAAzB5B,EAAiBD,MAAa,mBAAG6B,UAAU,aAAb,0BAA2C,c,WChEzPe,EAAe,CACnBC,UAAW,GAAIC,SAAU,GAAIC,IAAK,GAClCC,UAAW,IAab,SAASC,EAAWC,GAClB,IAGIC,GAHO,IAAIC,MAGFC,qBACb,OACE,sBAAKxB,UAAU,aAAf,UAA4B,8CAC1B,uBAAOF,KAAK,OAAOG,GAAG,OAAOK,KAAK,OAC/BE,SAAUa,EAAMb,SAAUiB,aAAcH,EAAEI,MAAM,EAAG,GAAId,UAAQ,OAGxE,SAASe,EAASN,GAEhB,IAAIO,EAAO,IAAIL,KACXM,EAAKD,EAAKE,cAAcC,OAAO,EAAG,IAClCC,EAAKJ,EAAKJ,qBAAqBE,MAAM,EAAG,GAC5C,EAA0BO,IAAMnE,SAAS,CAAEoE,KAAML,EAAIM,KAAMH,EAAII,KAAMf,EAAMgB,OAA3E,mBAAKC,EAAL,KAAeC,EAAf,KAgBA,OAAQ,sBAAKvC,UAAWqB,EAAMmB,QAAUnB,EAAMoB,MAAtC,UACN,oDACA,uBAAO3C,KAAK,OAAOG,GAAG,QAAQO,SAAU,SAACL,GAAD,OAR1C,SAAoBA,GAClB,IAAMX,EAAS,CAAE0C,KAAM/B,EAAEM,OAAOC,OAChC6B,GAAQ,SAAA9C,GACN,OAAO,2BAAKA,GAAWD,MAKsBkD,CAAWvC,IAAIsB,aAAcI,EAAIvB,KAAK,aAEnFqC,IAAI,aAAaC,IAAI,eAAqB,cAACxB,EAAD,CAAYZ,SAAU,SAACL,GAAD,OAlBpE,SAAoBA,GAClB,IAAMX,EAAS,CAAE2C,KAAMhC,EAAEM,OAAOC,OAChCd,QAAQC,IAAIL,GACZ+C,GAAQ,SAAA9C,GACN,OAAO,2BAAKA,GAAWD,MAcgDqD,CAAW1C,MAAM,wBAAQF,GAAG,cAAcD,UAAWqB,EAAMyB,YAAaC,QAAS1B,EAAM0B,QAASrC,MAAO1B,KAAKC,UAAUqD,GAArG,6BA0M/EU,MApMf,SAAoB3B,GAClB,MAA8BY,IAAMnE,SAAS,CAAEkD,UAAW,GAAIC,SAAU,GAAIgC,WAAY,GAAI/B,IAAK,GAAIC,UAAW,KAAhH,mBAAO+B,EAAP,KAAiB7E,EAAjB,KACQC,EAAa2D,IAAM1D,WAAWC,GAA9BF,SA0JF6E,EAhNR,SAAwBC,GACtB,IAAIC,EAAQ,mBAEZ,OADaD,EAAIE,MAAK,SAAAnD,GAAC,OAAIkD,EAAME,KAAKpD,MA8MvBqD,CAAeN,EAASjC,WAA0C,IAA7BiC,EAASjC,SAASwC,OAA+DP,EAASjC,SAASyC,KAAI,SAACC,EAAGC,GAAJ,MAAoB,KAAND,EAAW,KAAO,gCAAiB,qBAAI3D,UAAU,OAAd,UAAkC2D,EAAE,sBAAMZ,QAAS,kBAnJ9O5C,EAmJ4PyD,EAlJ3QV,EAAShC,IAAI2C,OAAO1D,EAAG,GAAI+C,EAAShC,IAAIf,SACxC9B,GAAU,SAAAyF,GACR,OAAO,2BAAKA,GAAQZ,EAAShC,QAHjC,IAAiBf,GAmJoQH,UAAWkD,EAAS/B,UAAUyC,GAAS,SAAW,QAAvF,0BAAgH,sBAAM5D,UAAWkD,EAAS/B,UAAUyC,GAAS,aAAe,aAA5D,sBAA1HA,GAAuN,cAACjC,EAAD,CAAUoB,QAAS,SAAC5C,IA3Cjd,SAAwBA,EAAGyD,GACzB,IAAIG,EAAM/E,KAAKgF,MAAM7D,EAAEM,OAAOC,OAE9BwC,EAAS/B,UAAU0C,OAAOD,EAAO,GAAIV,EAAS/B,UAAUyC,IACxDvF,GAAU,SAAAyF,GAIR,OAHAlE,QAAQC,IAAIiE,EAAKC,GACjBnE,QAAQC,IAAR,2BAAiBiE,GAAjB,IAAsBC,SAEf,2BAAKD,GAAZ,IAAiBC,WAKnB,IAAIvE,EAAM,eAAQ6B,EAAM4C,MACxBzE,EAAOK,IAAIqE,KAAKH,GAChBnE,QAAQC,IAAIL,GAGZ,IAAMZ,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,KAI/BJ,MAAM,WAAYR,GACfS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UACzBL,MAAK,SAAAM,GAEJ,OADAC,QAAQC,IAAIF,GACLA,KAERN,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAW2ZwE,CAAehE,EAAGyD,IAAUvB,KAAMsB,EAAGlB,MAAOS,EAAShC,IAAI0C,GAAS,YAAc,YAAapB,OAAQU,EAAS/B,UAAUyC,GAAS,YAAc,YAAad,YAAaI,EAAS/B,UAAUyC,GAAS,YAAc,mBAAveA,MAAhH,sEAE/EQ,EAAS/C,EAAM4C,KAAKI,QAAQX,KAAI,SAACC,EAAGW,GAAJ,OAAU,qBAAItE,UAAU,mBAAd,yBAAkD2D,EAAEvB,KAApD,mBAAmEuB,EAAEzB,KAArE,kBAAmFyB,EAAExB,MAAO,uBAAMnC,UAAU,QAAQ+C,QAAS,kBApH7K,SAAuBuB,GACrB1E,QAAQC,IAAIqD,GACZ,IAAI1D,EAAM,eAAQ6B,EAAM4C,MACpB5B,EAAO7C,EAAO6E,QAAQR,OAAOS,EAAG,GACpC1E,QAAQC,IAAIwC,GACZ,IAAMzD,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,EAAQ+E,KAAMlC,KAG7CjD,MAAM,iBAAkBR,GACrBS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UACzBL,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAsGqH6E,CAAcF,IAArD,cAA2D,sBAAMG,MAAM,cAAZ,iCAAwD,uBAAMzE,UAAU,OAAO+C,QAAS,kBA/D/R,SAAqBuB,GACnB1E,QAAQC,IAAIqD,GACZ,IAAI1D,EAAM,eAAQ6B,EAAM4C,MACpB5B,EAAO7C,EAAO6E,QAAQR,OAAOS,EAAG,GACpC1E,QAAQC,IAAIwC,GACZ,IAAMzD,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,EAAQ+E,KAAMlC,KAG7CjD,MAAM,eAAgBR,GACnBS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UAEzBL,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAgDuO+E,CAAYJ,IAAlD,mBAA8D,sBAAMG,MAAM,cAAZ,4BAAvOH,MAChFK,EAAStD,EAAM4C,KAAKpE,IAAI6D,KAAI,SAACC,EAAGW,GAAJ,OAAU,qBAAItE,UAAU,gBAAd,yBAA+C2D,EAAEvB,KAAjD,mBAAgEuB,EAAEzB,KAAlE,kBAAgFyB,EAAExB,MAAO,uBAAMnC,UAAU,QAAQ+C,QAAS,kBAnGtK,SAAwBuB,GACtB1E,QAAQC,IAAIqD,GACZ,IAAI1D,EAAM,eAAQ6B,EAAM4C,MACpB5B,EAAO7C,EAAOK,IAAIgE,OAAOS,EAAG,GAChC1E,QAAQC,IAAIwC,GACZ,IAAMzD,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,EAAQ+E,KAAMlC,KAG7CjD,MAAM,cAAeR,GAClBS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UAEzBL,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAoF8GiF,CAAeN,IAAtD,cAA4D,sBAAMG,MAAM,cAAZ,iCAAwD,uBAAMzE,UAAU,OAAO+C,QAAS,kBAjFzR,SAAiBuB,GACf1E,QAAQC,IAAIqD,GACZ,IAAI1D,EAAM,eAAQ6B,EAAM4C,MACpB5B,EAAO7C,EAAOK,IAAIgE,OAAOS,EAAG,GAChC1E,QAAQC,IAAIwC,GACZ,IAAMzD,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,EAAQ+E,KAAMlC,KAG7CjD,MAAM,WAAYR,GACfS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UAEzBL,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAkEiOkF,CAAQP,IAA9C,mBAA0D,sBAAMG,MAAM,cAAZ,4BAApOH,MAE/E,OAEE,sBAAKtE,UAAU,YAAf,UAEE,qBAAIA,UAAU,uCAAd,mBAA4DqB,EAAM4C,KAAKa,SAAvE,iCAEA,gCACA,sBAAK9E,UAAU,mBAAf,UAAkC,qDAA4B,6BAAKoE,OACnE,sBAAKpE,UAAU,mBAAf,UAAkC,8EAAqD,6BAAK2E,UAE5F,wBAAQ5B,QAAS,kBAvBrB,WACE,IAAIgC,EAAGC,SAASC,eAAe,YAC/BrF,QAAQC,IAAIkF,GACZA,EAAGG,UAAUC,OAAO,UAoBGC,IAArB,qBACA,sBAAKnF,GAAG,WAAR,UACA,qBAAKA,GAAG,OAAR,SAAe,6BAAKkD,MACpB,8BACA,0BACE3C,SAAU,SAACL,GAAD,OA9IhB,SAAsBA,GACpB,IAAIkF,EAAO,CAAErE,UAAWb,EAAEM,OAAOC,OACjCd,QAAQC,IAAIwF,GACZhH,GAAU,SAAAyF,GACR,OAAO,2BAAKA,GAAQuB,MAEtBzF,QAAQC,IAAIqD,GAwISoC,CAAanF,IAC9BO,MAAOwC,EAASlC,UAEhBT,YAAY,iCAGd,uBACA,wBAAQP,UAAU,kBAAkB+C,QAAS,kBAtKjD,WAEE,IAAMwC,EAAarC,EAASlC,UAAUwE,MAAM,KACF,KAAtCD,EAAWA,EAAW9B,OAAS,IAAW8B,EAAWE,MAEzD,IADA,IAAIC,EAAO,GACFpB,EAAI,EAAGA,EAAIiB,EAAW9B,OAAQa,IACrCoB,EAAKxB,MAAK,GACVhB,EAAS/B,UAAU+C,MAAK,GAE1B,IAAI1E,EAAS,CAAEyB,SAAUsE,EAAYrE,IAAKwE,GAC1C9F,QAAQC,IAAIL,GACZnB,GAAU,SAAAyF,GACR,OAAO,2BAAKA,GAAQtE,MA0J+BY,IAAnD,yBACA,wBAAQJ,UAAU,iBAAiB+C,QAAS,WAlL9C1E,GAAU,SAAAyF,GAAS,OAAO,2BAAKA,GAAQ/C,OAkLrC,+BCvMW4E,MA/CjB,SAAkBtE,GAChB,IAAS/C,EAAaC,qBAAWC,GAAxBF,SADa,4CAGtB,WAA6B6B,GAA7B,mBAAAzB,EAAA,yDACMkH,EAAKC,OAAOC,QAAQ,oCACxBlG,QAAQC,IAAI+F,GAAMA,GACd3F,EAAGjB,KAAKgF,MAAM+B,aAAaC,QAAQ,SACvCpG,QAAQC,IAAII,IACR2F,EALN,wBAMIzF,EAAExB,iBANN,SAUWsH,EAAU,CAAEpH,OAAQ,SAASC,QAAS,CAAC,eAAgB,qBAVlE,UAWWM,MAAM,IAAD,OAAKa,EAAE,KAAWgG,GAXlC,QAYKF,aAAaG,QACbL,OAAOM,SAASrF,KAAK,UAb1B,kDAiBKlB,QAAQwG,KAAR,MAjBL,2DAHsB,sBA2BtB,OAAO/E,EAAMgF,OACX,qBAAKrG,UAAU,+BAAf,SACE,qBAAIA,UAAU,sCAAd,UACE,oBAAIA,UAAU,eAAd,SAA6B,mBAAGc,KAAK,IAAR,oBAC7B,oBAAId,UAAU,eAAd,SAA6B,mBAAGc,KAAK,aAAR,wBAC7B,oBAAId,UAAU,eAAd,SAA6B,mBAAGc,KAAK,UAAUiC,QAAS,kBAAIzE,EAAS,CAACwB,KAAM,YAA/C,sBAC7B,oBAAIE,UAAU,eAAd,SAA6B,mBAAGc,KAAK,IAAIiC,QAAS,SAAC5C,GAAD,OAjClC,2CAiCuCmG,CAAcnG,IAAxC,mCAG/B,qBAAKH,UAAU,+BAAf,SACA,qBAAIA,UAAU,uCAAd,UACE,oBAAIA,UAAU,eAAd,SAA6B,mBAAGc,KAAK,IAAR,qBAC7B,oBAAId,UAAU,eAAd,SAA6B,mBAAGc,KAAK,YAAR,8BCvCtB,SAASyF,IAEtB,MAAoCzI,mBAAS,CAACC,MAAO,GAAIkG,KAAM,GAAIjG,SAAU,GAAIwI,UAAW,KAAMC,eAAgB,OAAlH,mBAAOC,EAAP,KAAuBrI,EAAvB,KAFiC,4CASjC,WAA4BI,GAA5B,eAAAC,EAAA,sDACED,EAAME,iBAEAC,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,MAAO,6BAA6BC,KAAMuH,KAErEtH,MAAM,YAAaR,GACdS,MAAK,SAAAC,GACJ,GAAiB,MAAbA,EAAIC,OAAc,CACpB,IAAMC,EAAO,CAACgH,WAAW,EAAOC,eAAgBnH,EAAIqH,QACpDtI,GAAU,SAAAoB,GAAU,OAAO,2BAAIA,GAAWD,WAEvC,GAAgB,MAAbF,EAAIC,OAAa,CACvB,IAAMC,EAAO,CAACgH,WAAW,EAAMC,eAAgBnH,EAAIqH,QACnDtI,GAAU,SAAAoB,GAAS,OAAO,2BAAIA,GAAWD,UAjBjD,4CATiC,sBAyDjC,OACE,qBAAKQ,UAAU,MAAf,SACA,sBAAKC,GAAG,YAAR,UACA,uBAAMA,GAAG,iBAAiBD,UAAU,eAAeE,SAAU,SAACC,GAAD,OA5D9B,2CA4DmCC,CAAaD,IAA/E,UACI,uBAAOE,IAAI,QAAX,oBAAiC,uBACjC,uBAAOP,KAAK,QAAQQ,KAAK,QAAQC,YAAY,cAAcC,SAAU,SAACL,GAAD,OA7B3E,SAAoBA,GAClB,IAAMX,EAAO,CAACzB,MAAMoC,EAAEM,OAAOC,OAC7BrC,GAAU,SAAAoB,GACN,OAAO,2BAAIA,GAAUD,MA0BqDmB,CAAWR,IAAIS,UAAQ,IAAS,uBAC1G,uBAAOP,IAAI,QAAX,yBAAsC,uBACtC,uBAAOP,KAAK,OAAOQ,KAAK,QAAQC,YAAY,kBAAkBC,SAAU,SAACL,GAAD,OAxB9E,SAAmBA,GACjB,IAAMX,EAAO,CAACyE,KAAK9D,EAAEM,OAAOC,OAC5BrC,GAAU,SAAAoB,GACN,OAAO,2BAAIA,GAAUD,MAqBwDoH,CAAUzG,IAAIS,UAAQ,IAAS,uBAC5G,uBAAOP,IAAI,OAAX,uBAAmC,uBACnC,uBAAOP,KAAK,WAAWQ,KAAK,OAAOC,YAAY,iBAAiBC,SAAU,SAACL,GAAD,OAnBhF,SAAuBA,GACrB,IAAMX,EAAO,CAACxB,SAASmC,EAAEM,OAAOC,OAChCrC,GAAU,SAAAoB,GACN,OAAO,2BAAIA,GAAUD,MAgB0DqB,CAAcV,IAAIS,UAAQ,IAAS,uBAClH,wBAAQZ,UAAU,kBAAlB,yBAEN,8BAAK,8BAAgC,IAA3B0G,EAAeF,UAAkB,mBAAGxG,UAAU,aAAb,kCAA6E,IAA3B0G,EAAeF,UAAiB,mBAAGxG,UAAU,kBAAb,uDAC3G,cCrCD6G,MAjCnB,SAAkBxF,GACd,IAAQ/C,EAAa2D,IAAM1D,WAAWC,GAA9BF,SAmBF8F,EAAS/C,EAAM4C,KAAK6C,KAAKpD,KAAI,SAACC,EAAGW,GAAJ,OAAU,qBAAItE,UAAU,MAAd,yBAAqC2D,EAAEvB,KAAvC,mBAAsDuB,EAAEzB,KAAxD,kBAAsEyB,EAAExB,MAAO,uBAAMnC,UAAU,QAAQ+C,QAAS,kBAlB7J,SAAoBuB,GAChB,IAAI9E,EAAM,eAAQ6B,EAAM4C,MACpB5B,EAAO7C,EAAOsH,KAAKjD,OAAOS,EAAG,GACjC1E,QAAQC,IAAIwC,GACZ,IAAMzD,EAAiB,CACrBC,OAAQ,OAERC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEE,KAAMK,EAAQ+E,KAAMlC,KAG7CjD,MAAM,cAAeR,GAClBS,MAAK,SAAAC,GAAS,OAAOA,EAAII,UACzBL,MAAK,SAAAM,GAAO,OAAIrB,EAAS,CAAEwB,KAAM,cAAeC,QAASJ,OAKmGoH,CAAWzC,IAAlD,cAAwD,sBAAMG,MAAM,cAAZ,0BAA9GH,MACtE,OACE,sBAAKtE,UAAU,2BAAf,UACE,oBAAIA,UAAU,cAAd,mCACA,6BACGoE,Q,oCC5BJ4C,E,kDACH,WAAY3F,GAAO,IAAD,8BACd,cAAMA,IACD4F,MAAM,CAAC9H,KAAK,MAFH,E,4FAKlB,mCAAAT,EAAA,6DACUE,EAAiB,CACnBC,OAAQ,MACRC,QAAS,CAAE,eAAgB,qBAHnC,SAMYM,MAAM,sBAAsBR,GAChCS,MAAK,SAAAC,GAAG,OAAEA,EAAII,UACdL,MAAK,SAAAsE,GAEF,OADA,EAAKuD,SAAS,CAAC/H,KAAKwE,IACbA,KAEVtE,MAAK,SAAAF,GAAI,OAAES,QAAQC,IAAIV,MAZ/B,2C,6EAcA,SAAUiE,GAEN,OADSA,EAAIM,KAAI,SAAAC,GAAC,OAAE,+BAAI,uCAAUA,EAAE5F,SAAhB,OAA+B4F,EAAC,IAAQ,8B,oBAKhE,WACI,OACE,gCACE,iEACA,6BAAKwD,KAAKF,MAAM9H,KAAKgI,KAAKC,UAAUD,KAAKF,MAAM9H,MAAM,c,GA9BxCkI,aAqCVL,ICrCA,SAASM,IACpB,OACI,qBAAKtH,UAAU,QAAf,SACG,qDCMX,IAAMxB,EAAcyD,IAAMsF,gBAGtBC,EAASxI,KAAKgF,MAAM+B,aAAaC,QAAQ,SAAShH,KAAKgF,MAAM+B,aAAaC,QAAQ,SAAS,KAC/FpG,QAAQC,IAAI,mBAAoB2H,GAChC,IAAMzG,EAAe,CACnB0G,iBAAiB,EACjBxD,KAAMuD,EACNE,MAAO3B,aAAaC,QAAQ,UAGxB2B,EAAU,SAACV,EAAOW,GACtB,OAAQA,EAAO9H,MACb,IAAK,QAGH,OAFAiG,aAAa8B,QAAQ,OAAQ7I,KAAKC,UAAU2I,EAAO7H,QAAQkE,OAC3D8B,aAAa8B,QAAQ,QAAS7I,KAAKC,UAAU2I,EAAO7H,QAAQ2H,QACrD,2BACFT,GADL,IAEEQ,iBAAiB,EACjBxD,KAAM2D,EAAO7H,QAAQkE,KACrByD,MAAOE,EAAO7H,QAAQ2H,QAE1B,IAAK,SAEH,OADA3B,aAAaG,QACN,2BACFe,GADL,IAEEQ,iBAAiB,EACjBxD,KAAM,OAEV,IAAK,cAQL,IAAK,qBAGH,OAFA8B,aAAa+B,WAAW,QACxB/B,aAAa8B,QAAQ,OAAQ7I,KAAKC,UAAU2I,EAAO7H,UAC5C,2BACFkH,GADL,IAEEQ,iBAAiB,EACjBxD,KAAM2D,EAAO7H,UAIjB,QACE,OAAOkH,IAIb,SAASc,EAAS1G,GACd,MAAiC,MAA7BwE,OAAOM,SAAS6B,SACX3G,EAAMgF,OAAO,cAAC,EAAD,CAAYpC,KAAM5C,EAAM4C,OAAS,cAACpG,EAAD,IAElB,eAA5BgI,OAAOM,SAAS6B,SAChB3G,EAAMgF,OAAO,cAAC,EAAD,CAAUpC,KAAM5C,EAAM4C,OAAS,cAACpG,EAAD,IAEf,cAA7BgI,OAAOM,SAAS6B,SAChB,cAACzB,EAAD,IAE2B,WAA5BV,OAAOM,SAAS6B,SACf,cAACnK,EAAD,IAE0B,YAA3BgI,OAAOM,SAAS6B,SACf,cAACV,EAAD,IAE0B,YAA3BzB,OAAOM,SAAS6B,SACf,iDAE0B,iBAA3BnC,OAAOM,SAAS6B,SACnB3G,EAAM4C,MAA2B,2BAAnB5C,EAAM4C,KAAKlG,MACnB,cAACkK,EAAD,IAGA,wEAIF,gDAMb,SAASC,IACP,MAA0BjG,IAAMkG,WAAWR,EAAS5G,GAApD,mBAAOkG,EAAP,KAAc3I,EAAd,KACA,OACE,eAACE,EAAY4J,SAAb,CACA1H,MAAO,CACLuG,QACA3I,YAHF,cAKA,cAAC,EAAD,CAAU+H,OAAQY,EAAMS,QACxB,cAACK,EAAD,CAAU1B,OAAQY,EAAMS,MAAOzD,KAAMgD,EAAMhD,UClG/CoE,IAASC,OACP,cAAC,IAAD,UACE,cAACJ,EAAD,MAEFlD,SAASC,eAAe,W","file":"static/js/main.a7e5d296.chunk.js","sourcesContent":["import {React, useState, useContext} from \"react\";\nimport { AuthContext } from '../App'\nimport './login.css'\n\n\nexport default function Login() {\n  \n  const [loginCredentials, setParams] = useState({email: \"\", password: \"\", emailExist:null, passCorrect: null,error:null});\n  const  { dispatch } = useContext(AuthContext);\n  \n\n\n\n  \n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ title: 'React POST Request Example',data: loginCredentials})\n  };\n  \n  fetch('/login',requestOptions) //<--This needs changing to /login\n     .then(res => {\n       if (res.status===401) {\n        const newObj={passCorrect: false}\n        setParams(oldObj=>{ return {...oldObj, ...newObj}})\n      }\n      else if(res.status===400){\n        const newObj={emailExist: false}\n        setParams(oldObj=>{return {...oldObj, ...newObj}})\n      }\n      return res.json()\n    })\n    .then(resJSON=>{\n      console.log(resJSON)\n      dispatch({type: \"LOGIN\", payload: resJSON})\n    })\n\n  \n  }\n  \n\n  \n  function enterEmail(e){\n    const newObj={email:e.target.value}\n    setParams(oldObj=>{\n        return {...oldObj,...newObj}\n    })\n    \n  }\n  function enterPassword(e){\n    const newObj={password:e.target.value}\n    setParams(oldObj=>{\n        return {...oldObj,...newObj}\n    })\n    \n  }\n\n\n\n  return (\n    <div className=\"login\">\n    <div className=\"loginCard\">\n    <form id=\"loginCardItems\" className=\"form-control\" onSubmit={(e)=>handleSubmit(e)} method=\"post\">\n        <label for=\"email\">Email:</label><br></br>\n        <input type=\"email\" name=\"email\" placeholder=\"Enter Email\" onChange={(e)=>enterEmail(e)} required></input><br></br>\n        <label for=\"pass\">Password:</label><br></br>\n        <input type=\"password\" name=\"pass\" placeholder=\"Enter Password\" onChange={(e)=>enterPassword(e)} required></input><br></br>\n        <button className=\"btn btn-primary\">Login</button>\n    </form>\n    <div><a id=\"noacc\" href=\"/register\"> Don't have an account?</a></div> \n    <div><h1>{loginCredentials.emailExist===false?<p className=\"emailTaken\">Email doesn't exist</p>:loginCredentials.passCorrect===false?<p className=\"emailTaken\">Wrong Password</p>:loginCredentials.error===true?<p className=\"emailTaken\">Server error</p>:null}</h1></div>\n    </div>\n    </div>\n    \n  );\n  };\n","//This is the functional component definition \n//Its needed in order to use react hooks \nimport React from 'react';\n\nimport { AuthContext } from '../App'\nimport './todo.css'\n\n\n\n\nconst initialState = {\n  userInput: \"\", toDoList: [], vis: [],\n  greentick: []\n}\n\nfunction inputValidator(arr) {\n  var Regex = /^[a-zA-Z0-9_]+$/g\n  var result = arr.some(e => Regex.test(e));\n  return result\n}\n\n\n\n\n\nfunction TimePicker(props) {\n  var curr = new Date();\n  //var t = curr.toISOString(); this doesnt account for BST/GMT +1!!\n  //I changed it to LocaleTimeString as below\n  var t = curr.toLocaleTimeString()\n  return (\n    <div className=\"timeSelect\"><label>Set Time:</label>\n      <input type=\"time\" id=\"appt\" name=\"appt\"\n         onChange={props.onChange} defaultValue={t.slice(0, 5)} required></input></div>)\n}\n\nfunction Calendar(props) {\n\n  var curr = new Date();\n  var dt = curr.toISOString().substr(0, 10);\n  var tt = curr.toLocaleTimeString().slice(0, 5);\n  let [timeline, setTime] = React.useState({ date: dt, time: tt, todo: props.item });\n\n  function handleTime(e) {\n    const newObj = { time: e.target.value }\n    console.log(newObj)\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n\n  function handleDate(e) {\n    const newObj = { date: e.target.value }\n    setTime(oldObj => {\n      return { ...oldObj, ...newObj }\n    })\n  }\n  return (<div className={props.style2 || props.style}>\n    <label >Enter deadline:</label>\n    <input type=\"date\" id=\"start\" onChange={(e) => handleDate(e)} defaultValue={dt} name=\"trip-start\"\n\n      min=\"2020-01-01\" max=\"2099-12-31\"></input><TimePicker onChange={(e) => handleTime(e)} /><button id=\"setReminder\" className={props.submitStyle} onClick={props.onClick} value={JSON.stringify(timeline)}>Set Reminder</button></div>)\n\n}\n\n\n\nfunction MyToDoComp(props) {\n  const [AppState, setParams] = React.useState({ userInput: \"\", toDoList: [], serverList: [], vis: [], greentick: [] });\n  const { dispatch } = React.useContext(AuthContext);\n\n\n  function clear() {\n    setParams(old => { return { ...old, ...initialState } })\n  }\n\n  function setTime(e) {\n    AppState.vis.splice(e, 1, !AppState.vis[e])\n    setParams(old => {\n      return { ...old, ...AppState.vis }\n    })\n\n  }\n\n  function handleSubmit() {\n\n    const itemsArray = AppState.userInput.split(',');\n    if (itemsArray[itemsArray.length - 1] === \"\") itemsArray.pop()\n    let visi = []\n    for (let i = 0; i < itemsArray.length; i++) {\n      visi.push(true);\n      AppState.greentick.push(false)\n    }\n    let newObj = { toDoList: itemsArray, vis: visi }\n    console.log(newObj)\n    setParams(old => {\n      return { ...old, ...newObj }\n\n    })\n\n  }\n  function handleChange(e) {\n    let newO = { userInput: e.target.value }\n    console.log(newO)\n    setParams(old => {\n      return { ...old, ...newO }\n    });\n    console.log(AppState)\n  }\n  function removeOverdue(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeOverdue', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n\n  function removeReminder(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/removeTodo', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function dueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.log.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/dueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n  function overdueDone(i) {\n    console.log(AppState)\n    let newObj = { ...props.user }\n    let item = newObj.overdue.splice(i, 1)\n    console.log(item)\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj, Item: item })\n    }\n\n    fetch('/overdueDone', requestOptions)\n      .then(res => { return res.json() })\n      //.then(resJSON=>console.log(resJSON))\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n  }\n\n  function submitToServer(e, index) {\n    let obj = JSON.parse(e.target.value)\n    \n    AppState.greentick.splice(index, 1, !AppState.greentick[index])\n    setParams(old => {\n      console.log(old, obj)\n      console.log({ ...old, obj })\n\n      return { ...old, obj }\n    })\n\n\n\n    let newObj = { ...props.user };\n    newObj.log.push(obj)\n    console.log(newObj)\n\n\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ data: newObj })\n    }\n\n\n    fetch('/addTodo', requestOptions)\n      .then(res => { return res.json() })\n      .then(resJSON=>{\n        console.log(resJSON)\n        return resJSON\n      })\n      .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n\n  }\n  function addItems(){\n    let ta=document.getElementById('textArea')\n    console.log(ta)\n    ta.classList.toggle('active')\n  }\n\n\n  //console.log(props.user)\n  const items = !inputValidator(AppState.toDoList) && AppState.toDoList.length === 0 ? <h1>Enter your tasks separated by commas</h1> : AppState.toDoList.map((d, index) => d === \"\" ? null : <div key={index}><li className=\"btn1\" key={index}>{d}<span onClick={() => setTime(index)} className={AppState.greentick[index] ? \"clock2\" : \"clock\"}>&#128337;</span><span className={AppState.greentick[index] ? \"greenTick1\" : \"greenTick2\"}>&#9989;</span></li><Calendar onClick={(e) => { submitToServer(e, index) }} item={d} style={AppState.vis[index] ? \"calendar1\" : \"calendar2\"} style2={AppState.greentick[index] ? \"calendar2\" : \"calendar1\"} submitStyle={AppState.greentick[index] ? \"submitted\" : \"notsubmitted\"} /></div>)\n  \n  const items2 = props.user.overdue.map((d, i) => <li className=\"row overdueitems\" key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeOverdue(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => overdueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  const items3 = props.user.log.map((d, i) => <li className=\"row listitems\" key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeReminder(i)} >X<span class=\"tooltiptext\">Delete Reminder?</span></span><span className=\"done\" onClick={() => dueDone(i)} >&#9989;<span class=\"tooltiptext\">Complete?</span></span></li>)\n  \n  return (\n\n    <div className=\"container\">\n      \n      <h1 className='card text-center border-primary mb-3'>Hello {props.user.username} here's your \"To Do\" List:</h1>\n      \n      <div>\n      <div className='card text-center'><h2>Your overdue Tasks:</h2><ul>{items2}</ul></div>\n      <div className=\"card text-center\"><h2>You will be emailed the following reminders:</h2><ul>{items3}</ul></div>\n      </div>\n      <button onClick={()=>addItems()}>+ Items</button>\n      <div id=\"textArea\">\n      <div id=\"card\"><ul>{items}</ul></div>\n      <div>\n      <textarea\n        onChange={(e) => handleChange(e)}\n        value={AppState.userInput}\n\n        placeholder='Separate Tasks With Commas'\n      />\n      </div>\n      <br />\n      <button className=\"btn btn-primary\" onClick={() => handleSubmit()}>Create List</button>\n      <button className=\"btn btn-danger\" onClick={() => clear()}>Clear List</button>\n      </div>\n      \n\n\n\n    </div>\n  );\n}\n\n\n\nexport default MyToDoComp;\n","\nimport { AuthContext } from '../App'\nimport {useContext } from \"react\";\n\n\nfunction Navigate(props){\n  const  { dispatch } = useContext(AuthContext);\n  \n  async function removeAccount(e) {\n    let conf=window.confirm(\"Are you sure you want to delete?\");\n    console.log(conf,!conf)\n    let id=JSON.parse(localStorage.getItem('user'));\n    console.log(id)\n    if (conf) {\n      e.preventDefault()\n      \n      \n    try {\n       const options = { method: 'DELETE',headers: {'Content-Type': 'application/json'}}\n       await fetch(`/${id['_id']}`, options)\n       localStorage.clear();\n       window.location.href='/remove';\n      //window.reload();\n \n    } catch (err) {\n       console.warn(err);\n   }\n  }\n  \n  }\n \n  \n  return props.authed?(\n    <nav className=\"navbar navbar-light bg-light\">\n      <ul className=\"navbar navbar-text navbar-expand-lg\">\n        <li className=\"navbar-brand\"><a href=\"/\">Home</a></li>\n        <li className=\"navbar-brand\"><a href=\"/completed\">Complete</a></li>\n        <li className=\"navbar-brand\"><a href=\"/logout\" onClick={()=>dispatch({type: \"LOGOUT\"})}>Logout</a></li>\n        <li className=\"navbar-brand\"><a href=\"/\" onClick={(e)=>removeAccount(e)}>Delete account</a></li>\n      </ul>\n    </nav>):(\n      <nav className='navbar navbar-light bg-light'>\n      <ul className=\"navbar navbar-light navbar-expand-lg\">\n        <li className=\"navbar-brand\"><a href=\"/\">Login</a></li>\n        <li className=\"navbar-brand\"><a href=\"/register\">Register</a></li>\n      </ul>\n    </nav>\n)\n}\n\n\n\n  export default Navigate\n","import React, { useState } from \"react\";\nimport './login.css'\n\n\n\nexport default function Register() {\n  \n  const [RegCredentials, setParams] = useState({email: \"\", user: \"\" ,password: \"\", emailAuth: null, serverResponse: null});\n\n\n  /*function validateForm() {\n    return RegCredentials.email.length > 0 && RegCredentials.password.length > 0;\n  }*/\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    const requestOptions = {\n      method: 'POST',\n      //mode: 'cors',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ title: 'React POST Request Example',data: RegCredentials})\n  };\n  fetch('/register', requestOptions) //<----THIS NEEDS CHANGING TO /register\n      .then(res => {\n        if (res.status===400) {\n          const newObj={emailAuth: false, serverResponse: res.text()}\n          setParams(oldObj=>{ return {...oldObj, ...newObj}})\n        }\n        else if(res.status===200){\n          const newObj={emailAuth: true, serverResponse: res.text()}\n          setParams(oldObj=>{return {...oldObj, ...newObj}})\n        }\n        \n\n      })\n    \n  }\n  function enterEmail(e){\n    const newObj={email:e.target.value}\n    setParams(oldObj=>{\n        return {...oldObj,...newObj}\n    })\n    \n  }\n  function enterUser(e){\n    const newObj={user:e.target.value}\n    setParams(oldObj=>{\n        return {...oldObj,...newObj}\n    })\n    \n  }\n  function enterPassword(e){\n    const newObj={password:e.target.value}\n    setParams(oldObj=>{\n        return {...oldObj,...newObj}\n    })\n   \n  }\n\n \n\n  return (\n    <div className=\"reg\">\n    <div id=\"loginCard\">\n    <form id=\"loginCardItems\" className=\"form-control\" onSubmit={(e)=>handleSubmit(e)}>\n        <label for=\"email\">Email:</label><br></br>\n        <input type=\"email\" name=\"email\" placeholder=\"Enter Email\" onChange={(e)=>enterEmail(e)} required></input><br></br>\n        <label for=\"email\">First Name:</label><br></br>\n        <input type=\"text\" name=\"email\" placeholder=\"Enter your name\" onChange={(e)=>enterUser(e)} required></input><br></br>\n        <label for=\"pass\">Password:</label><br></br>\n        <input type=\"password\" name=\"pass\" placeholder=\"Enter Password\" onChange={(e)=>enterPassword(e)} required></input><br></br>\n        <button className=\"btn btn-primary\">Register</button>\n    </form> \n  <div><h1>{RegCredentials.emailAuth===false?<p className=\"emailTaken\">Email already taken</p>:RegCredentials.emailAuth===true?<p className=\"emailRegistered\">Succesfully registered. Check\n    your email!</p>:null}</h1></div>\n    </div>\n    </div>\n    \n  );\n}\n","import React from 'react';\nimport { AuthContext } from '../App'\n\n\n\nfunction Complete(props){\n    const { dispatch } = React.useContext(AuthContext);\n    function removeDone(i) {\n        let newObj = { ...props.user }\n        let item = newObj.done.splice(i, 1)\n        console.log(item)\n        const requestOptions = {\n          method: 'POST',\n          //mode: 'cors',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ data: newObj, Item: item })\n        }\n    \n        fetch('/removeDone', requestOptions)\n          .then(res => { return res.json() })\n          .then(resJSON => dispatch({ type: \"SETREMINDER\", payload: resJSON }))\n      }\n\n\n\n    const items2 = props.user.done.map((d, i) => <li className=\"row\" key={i}>{`Task:${d.todo}, date: ${d.date}, time:${d.time}`}<span className=\"close\" onClick={() => removeDone(i)} >X<span class=\"tooltiptext\">Delete?</span></span></li>)\n    return (\n      <div className='card border-primary mb-3'>\n        <h1 className='text-center'>Your completed tasks:</h1>\n        <ul>\n          {items2}\n        </ul>\n      </div>\n  );\n  }\n  \n  \n  \n    export default Complete\n","import React, {Component} from 'react';\n\nclass  AdminPage extends Component{\n    constructor(props){\n        super(props);\n        this.state={data:null}\n    }\n\n    async componentDidMount(){\n        const requestOptions = {\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' }\n        };\n          //https://api.binance.com\" might need this url in fetch instead of in proxy field inside package.json?\n          await fetch('/admin/users/authed',requestOptions)\n           .then(res=>res.json())\n           .then(d=>{\n               this.setState({data:d})\n               return d\n           })\n           .then(data=>console.log(data))\n        }\n    listUsers(arr){\n        let view=arr.map(d=><li><p>Email:{d.email}</p>ID: {d['_id']}<p></p></li>)\n        return view\n    }\n   \n\n    render(){\n        return (\n          <div>\n            <h1>Only Admin should see this page</h1>\n            <ol>{this.state.data?this.listUsers(this.state.data):null}</ol>\n        </div>)\n        }\n\n    \n}\n\nexport default AdminPage\n","import './login.css'\n\nexport default function Logout(){\n    return(\n        <div className='login'>\n           <h1>You've logged out</h1>\n        </div>\n    )\n\n}\n","import React from 'react';\nimport Login from './containers/Login'\nimport MyToDoComp from './containers/Todo'\nimport Navigate from './containers/NavBar'\nimport Register from './containers/Register'\nimport Complete from './containers/Complete'\nimport Admin from './containers/Admin'\nimport Logout from './containers/Logout'\n\n\n\nconst AuthContext = React.createContext();\n\n\nlet userName=JSON.parse(localStorage.getItem('user'))?JSON.parse(localStorage.getItem('user')):null;\nconsole.log(\"YOUR DISPtcth is\"+ userName)\nconst initialState = {\n  isAuthenticated: false,\n  user: userName,\n  token: localStorage.getItem('token'),\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n    case \"LOGOUT\":\n      localStorage.clear();\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      };\n    case \"SETREMINDER\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n    case \"UPDATECENTRALSTATE\":\n      localStorage.removeItem(\"user\")\n      localStorage.setItem(\"user\", JSON.stringify(action.payload))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload\n      }\n      \n\n    default:\n      return state;\n  }\n};\n\nfunction MyRoutes(props){\n    if (window.location.pathname === \"/\") {\n      return props.authed?<MyToDoComp user={props.user} />:<Login />\n    }\n    else if (window.location.pathname ===\"/completed\"){\n      return props.authed?<Complete user={props.user} />:<Login />\n    }\n    else if (window.location.pathname === \"/register\"){\n      return <Register />\n    }\n    else if(window.location.pathname ===\"/login\"){\n      return <Login />\n    }\n    else if(window.location.pathname===\"/logout\"){\n      return <Logout /> //Will style these pages\n    }\n    else if(window.location.pathname===\"/remove\"){\n      return <h1>Account deleted</h1>\n    }\n    else if(window.location.pathname===\"/admin/users\"){\n      if(props.user && props.user.email==='m.w.g.nelson@gmail.com'){\n        return <Admin></Admin>\n      }\n      else {\n        return <h1>Youre not authorised to view this page</h1>\n      }\n    }\n    else{\n      return <h1>404 Not Found!</h1>\n    }\n    \n\n}\n\nfunction App(){\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return(\n    <AuthContext.Provider\n    value={{\n      state,\n      dispatch\n    }}\n  > <Navigate authed={state.token}/>\n    <MyRoutes authed={state.token} user={state.user}/>\n  </AuthContext.Provider>\n)\n}\nexport {App}\nexport {AuthContext}\n\n//I replaced the following with <MyRoutes />\n//<div className=\"App\">{!state.isAuthenticated ? <Login /> : <MyToDoList />}</div>\n","\nimport 'react-app-polyfill/ie9';\nimport 'react-app-polyfill/ie11'\nimport 'react-app-polyfill/stable';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport  {App } from './App.js'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}